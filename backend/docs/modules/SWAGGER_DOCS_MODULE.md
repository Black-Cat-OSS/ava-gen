# Swagger Docs Module

## Назначение

Модуль `SwaggerDocsModule` предоставляет REST-эндпоинт для отдачи статически сгенерированного OpenAPI документа (`swagger.json`). Используется клиентами и вспомогательными сервисами, которым нужен доступ к актуальной спецификации API.

## Точки входа

- `GET /swagger/docs`
  - **Ответ:** `application/json`, содержимое файла `static/swagger.json`
  - **Заголовки:** `Cache-Control: no-store`
  - Также доступно по `GET /api/v1/swagger/docs` для клиентов, использующих API-префикс

## Входные данные

Эндпоинт не принимает тело запроса или query-параметры. Доступ осуществляется без авторизации.

## Выходные данные

- Успешный ответ: потоковый JSON-файл OpenAPI 3.0 мгновенно передаётся клиенту.
- Размер ответа зависит от содержимого `static/swagger.json`, которое формируется на этапе сборки.

## Возможные ошибки

- `404 Not Found` — файл `static/swagger.json` отсутствует (например, генератор не запускался или завершился с ошибкой).
- `500 Internal Server Error` — любые непредвиденные ошибки чтения файла.

## Генерация документа

- Скрипт `node scripts/generate-swagger.js` выполняется автоматически после `nest build` (см. `package.json`).
- Скрипт использует `ts-node` для запуска генератора `src/swagger/swagger.generator.ts` и сохраняет результат в `static/swagger.json`.
- Если требуется пересоздать спецификацию вручную, выполните `pnpm build` в каталоге `backend`.

## Зависимости

- Модуль подключён в `AppModule`, поэтому доступен сразу после запуска приложения.
- Для успешной генерации Swagger документа необходима корректная работа всех модулей, описанных в `AppModule`, так как используются их метаданные.
