# Swagger Docs Module

## Назначение

Модуль `SwaggerDocsModule` предоставляет REST-эндпоинт для отдачи OpenAPI-документа в runtime. Используется клиентами и вспомогательными сервисами, которым нужен доступ к актуальной спецификации API без промежуточных файлов на диске.

## Точки входа

- `GET /swagger/docs`
  - **Ответ:** `application/json`, OpenAPI объект, сгенерированный при старте приложения
  - **Заголовки:** `Cache-Control: no-store`
  - Также доступно по `GET /api/v1/swagger/docs` для клиентов, использующих API-префикс
- `GET /swagger-json`
  - **Ответ:** `application/json`, OpenAPI объект в виде JSON
  - Предоставляется напрямую HTTP-адаптером NestJS

## Входные данные

Эндпоинт не принимает тело запроса или query-параметры. Доступ осуществляется без авторизации.

## Выходные данные

- Успешный ответ: JSON OpenAPI 3.0 мгновенно формируется в памяти и сериализуется в ответ.

## Возможные ошибки

- `404 Not Found` — спецификация ещё не инициализирована (например, приложение не успело завершить bootstrap).
- `500 Internal Server Error` — любые непредвиденные ошибки сериализации.

## Генерация документа

- Документ генерируется при запуске приложения: `SwaggerModule` создаёт схему, а `SwaggerDocsService` сохраняет её в памяти.
- Для принудительного обновления спецификации достаточно перезапустить приложение (`pnpm start:dev`).

## Зависимости

- Модуль подключён в `AppModule`, поэтому доступен сразу после запуска приложения.
- Для успешной генерации Swagger документа необходима корректная работа всех модулей, описанных в `AppModule`, так как используются их метаданные.
